{"ast":null,"code":"var _jsxFileName = \"/Users/ooshimaatsushi/Documents/works/react/react-trello-app/src/components/Main.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport dummyData from \"../dummyData\";\nimport Card from \"./card/Card\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = () => {\n  _s();\n\n  const [data, setData] = useState(dummyData);\n\n  const onDragEnd = result => {\n    // console.log(result);\n    if (!result.destination) return;\n    const {\n      source,\n      destination\n    } = result; //動かし始めたcolumnが違うcolumnに移動したら\n\n    if (source.droppableId !== destination.droppableId) {\n      //動かし始めたcolumnの配列の番号を取得()\n      const sourceColIndex = data.findIndex(e => e.id === source.droppableId);\n      console.log(sourceColIndex); //動かし終わったcolumnの配列の番号を取得()\n\n      const destinationColIndex = data.findIndex(e => e.id === destination.droppableId);\n      console.log(destinationColIndex);\n      const sourseCol = data[sourceColIndex];\n      const destinationCol = data[destinationColIndex]; //動かし始めたタスクに属していたカラムの中のタスクを全て取得\n\n      const sourceTask = [...sourseCol.tasks];\n      console.log(sourceTask); //動かし終わったタスクに属していたカラムの中のタスクを全て取得\n\n      const destinationTask = [...destinationCol.tasks];\n      console.log(destinationTask); //前のカラムから削除\n\n      const [removed] = sourceTask.splice(source.index, 1); //後のカラムに追加\n\n      destinationTask.splice(destination.index, 0, removed);\n      data[sourceColIndex].tasks = sourceTask;\n      data[destinationColIndex].tasks = destinationTask;\n      setData(data);\n    } else {\n      //同じカラム内でタスクの入れ替え。\n      const sourceColIndex = data.findIndex(e => e.id === source.droppableId);\n      const sourseCol = data[sourceColIndex];\n      console.log(sourseCol);\n      const sourceTask = [...sourseCol.tasks];\n      console.log(sourceTask);\n      const [removed] = sourceTask.splice(source.index, 1);\n      sourceTask.splice(destination.index, 0, removed);\n      data[sourceColIndex].tasks = sourceTask;\n      setData(data);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(DragDropContext, {\n    onDragEnd: onDragEnd,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"trello\",\n      children: data.map(section => /*#__PURE__*/_jsxDEV(Droppable, {\n        droppableId: section.id,\n        children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"trello-section\",\n          ref: provided.innerRef,\n          ...provided.droppableProps,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"trello-section-title\",\n            children: section.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"trello-section-content\",\n            children: [section.tasks.map((task, index) =>\n            /*#__PURE__*/\n            // <Card key={task.id}>{task.title}</Card>\n            _jsxDEV(Draggable, {\n              draggableId: task.id,\n              index: index,\n              children: (provided, snapshot) => /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: provided.innerRef,\n                ...provided.draggableProps,\n                ...provided.dragHandleProps,\n                style: { ...provided.draggableProps.style,\n                  opacity: snapshot.isDragging ? \"0.5\" : \"1\"\n                },\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  children: task.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 25\n              }, this)\n            }, task.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 21\n            }, this)), provided.placeholder]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this)\n      }, section.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Main, \"SApncQPOdDguNmPc0eaf7Gvnb6U=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","DragDropContext","Draggable","Droppable","dummyData","Card","Main","data","setData","onDragEnd","result","destination","source","droppableId","sourceColIndex","findIndex","e","id","console","log","destinationColIndex","sourseCol","destinationCol","sourceTask","tasks","destinationTask","removed","splice","index","map","section","provided","innerRef","droppableProps","title","task","snapshot","draggableProps","dragHandleProps","style","opacity","isDragging","placeholder"],"sources":["/Users/ooshimaatsushi/Documents/works/react/react-trello-app/src/components/Main.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\r\nimport dummyData from \"../dummyData\";\r\nimport Card from \"./card/Card\";\r\n\r\nconst Main = () => {\r\n  const [data, setData] = useState(dummyData);\r\n\r\n  const onDragEnd = (result) => {\r\n    // console.log(result);\r\n    if (!result.destination) return;\r\n    const { source, destination } = result;\r\n\r\n    //動かし始めたcolumnが違うcolumnに移動したら\r\n    if (source.droppableId !== destination.droppableId) {\r\n      //動かし始めたcolumnの配列の番号を取得()\r\n      const sourceColIndex = data.findIndex((e) => e.id === source.droppableId);\r\n      console.log(sourceColIndex);\r\n      //動かし終わったcolumnの配列の番号を取得()\r\n      const destinationColIndex = data.findIndex(\r\n        (e) => e.id === destination.droppableId\r\n      );\r\n      console.log(destinationColIndex);\r\n\r\n      const sourseCol = data[sourceColIndex];\r\n      const destinationCol = data[destinationColIndex];\r\n\r\n      //動かし始めたタスクに属していたカラムの中のタスクを全て取得\r\n      const sourceTask = [...sourseCol.tasks];\r\n      console.log(sourceTask);\r\n\r\n      //動かし終わったタスクに属していたカラムの中のタスクを全て取得\r\n      const destinationTask = [...destinationCol.tasks];\r\n      console.log(destinationTask);\r\n\r\n      //前のカラムから削除\r\n      const [removed] = sourceTask.splice(source.index, 1);\r\n      //後のカラムに追加\r\n      destinationTask.splice(destination.index, 0, removed);\r\n\r\n      data[sourceColIndex].tasks = sourceTask;\r\n      data[destinationColIndex].tasks = destinationTask;\r\n\r\n      setData(data);\r\n    } else {\r\n      //同じカラム内でタスクの入れ替え。\r\n      const sourceColIndex = data.findIndex((e) => e.id === source.droppableId);\r\n      const sourseCol = data[sourceColIndex];\r\n      console.log(sourseCol);\r\n      const sourceTask = [...sourseCol.tasks];\r\n      console.log(sourceTask);\r\n      const [removed] = sourceTask.splice(source.index, 1);\r\n      sourceTask.splice(destination.index, 0, removed);\r\n\r\n      data[sourceColIndex].tasks = sourceTask;\r\n\r\n      setData(data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DragDropContext onDragEnd={onDragEnd}>\r\n      <div className=\"trello\">\r\n        {data.map((section) => (\r\n          <Droppable key={section.id} droppableId={section.id}>\r\n            {(provided) => (\r\n              <div\r\n                className=\"trello-section\"\r\n                ref={provided.innerRef}\r\n                {...provided.droppableProps}\r\n              >\r\n                <div className=\"trello-section-title\">{section.title}</div>\r\n                <div className=\"trello-section-content\">\r\n                  {section.tasks.map((task, index) => (\r\n                    // <Card key={task.id}>{task.title}</Card>\r\n                    <Draggable\r\n                      key={task.id}\r\n                      draggableId={task.id}\r\n                      index={index}\r\n                    >\r\n                      {(provided, snapshot) => (\r\n                        <div\r\n                          ref={provided.innerRef}\r\n                          {...provided.draggableProps}\r\n                          {...provided.dragHandleProps}\r\n                          style={{\r\n                            ...provided.draggableProps.style,\r\n                            opacity: snapshot.isDragging ? \"0.5\" : \"1\",\r\n                          }}\r\n                        >\r\n                          <Card>{task.title}</Card>\r\n                        </div>\r\n                      )}\r\n                    </Draggable>\r\n                  ))}\r\n                  {provided.placeholder}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n        ))}\r\n      </div>\r\n    </DragDropContext>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,eAAT,EAA0BC,SAA1B,EAAqCC,SAArC,QAAsD,qBAAtD;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,IAAP,MAAiB,aAAjB;;;AAEA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EACjB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAACI,SAAD,CAAhC;;EAEA,MAAMK,SAAS,GAAIC,MAAD,IAAY;IAC5B;IACA,IAAI,CAACA,MAAM,CAACC,WAAZ,EAAyB;IACzB,MAAM;MAAEC,MAAF;MAAUD;IAAV,IAA0BD,MAAhC,CAH4B,CAK5B;;IACA,IAAIE,MAAM,CAACC,WAAP,KAAuBF,WAAW,CAACE,WAAvC,EAAoD;MAClD;MACA,MAAMC,cAAc,GAAGP,IAAI,CAACQ,SAAL,CAAgBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACC,WAAtC,CAAvB;MACAK,OAAO,CAACC,GAAR,CAAYL,cAAZ,EAHkD,CAIlD;;MACA,MAAMM,mBAAmB,GAAGb,IAAI,CAACQ,SAAL,CACzBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASN,WAAW,CAACE,WADF,CAA5B;MAGAK,OAAO,CAACC,GAAR,CAAYC,mBAAZ;MAEA,MAAMC,SAAS,GAAGd,IAAI,CAACO,cAAD,CAAtB;MACA,MAAMQ,cAAc,GAAGf,IAAI,CAACa,mBAAD,CAA3B,CAXkD,CAalD;;MACA,MAAMG,UAAU,GAAG,CAAC,GAAGF,SAAS,CAACG,KAAd,CAAnB;MACAN,OAAO,CAACC,GAAR,CAAYI,UAAZ,EAfkD,CAiBlD;;MACA,MAAME,eAAe,GAAG,CAAC,GAAGH,cAAc,CAACE,KAAnB,CAAxB;MACAN,OAAO,CAACC,GAAR,CAAYM,eAAZ,EAnBkD,CAqBlD;;MACA,MAAM,CAACC,OAAD,IAAYH,UAAU,CAACI,MAAX,CAAkBf,MAAM,CAACgB,KAAzB,EAAgC,CAAhC,CAAlB,CAtBkD,CAuBlD;;MACAH,eAAe,CAACE,MAAhB,CAAuBhB,WAAW,CAACiB,KAAnC,EAA0C,CAA1C,EAA6CF,OAA7C;MAEAnB,IAAI,CAACO,cAAD,CAAJ,CAAqBU,KAArB,GAA6BD,UAA7B;MACAhB,IAAI,CAACa,mBAAD,CAAJ,CAA0BI,KAA1B,GAAkCC,eAAlC;MAEAjB,OAAO,CAACD,IAAD,CAAP;IACD,CA9BD,MA8BO;MACL;MACA,MAAMO,cAAc,GAAGP,IAAI,CAACQ,SAAL,CAAgBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACC,WAAtC,CAAvB;MACA,MAAMQ,SAAS,GAAGd,IAAI,CAACO,cAAD,CAAtB;MACAI,OAAO,CAACC,GAAR,CAAYE,SAAZ;MACA,MAAME,UAAU,GAAG,CAAC,GAAGF,SAAS,CAACG,KAAd,CAAnB;MACAN,OAAO,CAACC,GAAR,CAAYI,UAAZ;MACA,MAAM,CAACG,OAAD,IAAYH,UAAU,CAACI,MAAX,CAAkBf,MAAM,CAACgB,KAAzB,EAAgC,CAAhC,CAAlB;MACAL,UAAU,CAACI,MAAX,CAAkBhB,WAAW,CAACiB,KAA9B,EAAqC,CAArC,EAAwCF,OAAxC;MAEAnB,IAAI,CAACO,cAAD,CAAJ,CAAqBU,KAArB,GAA6BD,UAA7B;MAEAf,OAAO,CAACD,IAAD,CAAP;IACD;EACF,CAlDD;;EAoDA,oBACE,QAAC,eAAD;IAAiB,SAAS,EAAEE,SAA5B;IAAA,uBACE;MAAK,SAAS,EAAC,QAAf;MAAA,UACGF,IAAI,CAACsB,GAAL,CAAUC,OAAD,iBACR,QAAC,SAAD;QAA4B,WAAW,EAAEA,OAAO,CAACb,EAAjD;QAAA,UACIc,QAAD,iBACC;UACE,SAAS,EAAC,gBADZ;UAEE,GAAG,EAAEA,QAAQ,CAACC,QAFhB;UAAA,GAGMD,QAAQ,CAACE,cAHf;UAAA,wBAKE;YAAK,SAAS,EAAC,sBAAf;YAAA,UAAuCH,OAAO,CAACI;UAA/C;YAAA;YAAA;YAAA;UAAA,QALF,eAME;YAAK,SAAS,EAAC,wBAAf;YAAA,WACGJ,OAAO,CAACN,KAAR,CAAcK,GAAd,CAAkB,CAACM,IAAD,EAAOP,KAAP;YAAA;YACjB;YACA,QAAC,SAAD;cAEE,WAAW,EAAEO,IAAI,CAAClB,EAFpB;cAGE,KAAK,EAAEW,KAHT;cAAA,UAKG,CAACG,QAAD,EAAWK,QAAX,kBACC;gBACE,GAAG,EAAEL,QAAQ,CAACC,QADhB;gBAAA,GAEMD,QAAQ,CAACM,cAFf;gBAAA,GAGMN,QAAQ,CAACO,eAHf;gBAIE,KAAK,EAAE,EACL,GAAGP,QAAQ,CAACM,cAAT,CAAwBE,KADtB;kBAELC,OAAO,EAAEJ,QAAQ,CAACK,UAAT,GAAsB,KAAtB,GAA8B;gBAFlC,CAJT;gBAAA,uBASE,QAAC,IAAD;kBAAA,UAAON,IAAI,CAACD;gBAAZ;kBAAA;kBAAA;kBAAA;gBAAA;cATF;gBAAA;gBAAA;gBAAA;cAAA;YANJ,GACOC,IAAI,CAAClB,EADZ;cAAA;cAAA;cAAA;YAAA,QAFD,CADH,EAuBGc,QAAQ,CAACW,WAvBZ;UAAA;YAAA;YAAA;YAAA;UAAA,QANF;QAAA;UAAA;UAAA;UAAA;QAAA;MAFJ,GAAgBZ,OAAO,CAACb,EAAxB;QAAA;QAAA;QAAA;MAAA,QADD;IADH;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AA4CD,CAnGD;;GAAMX,I;;KAAAA,I;AAqGN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}